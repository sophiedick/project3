 // This is a single thread page to test that the data is being put on the screen - CB -->

<div class="container">

  <div class="row">
    <div class="col-md-12">
      <a href="" class="edit-thread" data-id="<%= thread._id %>">Edit Thread</a>
      <hr>
      <form action="/api/category/<%= thread._id %>?_method=DELETE" method="post">
      <button type="submit" data-id="<%= thread._id %>" class="delete">Delete</button>
      </form>
      <!-- ORIGINAL THREAD -->

      <!-- The div.original-thread is hidden when the 'edit' button is clicked and replaced with the 'edit-thread-form' below -->
      <div class="original-thread">
        <p><b>Posted in:</b></p><p class="thread-topic"><%= thread.topic %></p>
        <hr>
        <h3>Title:</h3><h3 class="thread-title"><%= thread.title %></h3>
        <hr>
        <b>Body:</b> 
        <p class="thread-body"><%= thread.body %></p>

         
          <% for(i=0; i< thread.comments.length; i++){  %>

            <p><b>Comment:</b></p>
            <p class="thread-comments"><%= thread.comments[i].body %> &nbsp; 
            <a href="/api/category/<%= thread._id %>/comment/<%= thread.comments[i].id %>">EDIT</a></p>
            <br>

          <% } %>
         
      </div>


      <!-- EDITABLE THREAD -->
      <!-- Any element with the class of editable is hidden until the 'edit' button is clicked
      -->
      <form action="/api/category/<%= thread._id %>?_method=PUT" class="edit-thread-form editable">
      <!-- Thread Topic -->
      <p><b>Posted in:</b></p><p class="thread-topic"><%= thread.topic %></p>
        <select name="threadTopic" id="thread-topic" class="editable thread-topic">
          <option value="lifestyle">Lifestyle</option>
          <option value="tech">Tech</option>
          <option value="culture">Culture</option>
          <option value="world">World</option>
          <option value="business">Business</option>
          <option value="showbiz">Showbiz</option>
        </select>

        <hr>
        <h3>Title:</h3><h3 class="thread-title"><%= thread.title %></h3>
        <!-- Thread title -->
        <input class="editable thread-title" value="" name="threadTitle">

        <hr>
        <!-- Thread body -->
        <b>Body:</b> 
        <p class="thread-body"><%= thread.body %></p>
        <textarea class="editable thread-body" value="" name="threadBody"></textarea>
        <hr>
        <input type="hidden" class="thread-id" name="threadId" value="<%= thread._id %>">
        <input type="submit" value="Submit" class="editable save">
        <input type="submit" value="Cancel" class="editable cancel">
      </form>
    </div>    <!-- End of col-md-12 -->
  </div>      <!-- End of row -->
</div>        <!-- End of container -->


<section id="comments">

</section>



<div> 
  <form id="new-comment" action="/api/category/<%= thread._id %>/newcomment" method="post">
    <label>Comment</label>
    <input type='text' id="comment-body" name="comments[body]" value='' placeholder="Enter a comment...">
    <br>

    <input type='hidden' id="ctid" value="<%= thread._id %>">
    <br>
    <input type="submit" value="Submit" id="submit-new-comment">
  </form>
</div>




<!-- 
  Note to CB:
√  Click 'Edit' button, store current values in variable(?)
√  Input text boxes/text areas appear with current values
   Upon clicking submit, replace the html with the new values
   Else the inner html remains the same
